<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.dao.NotifSettingDAO">

	<!-- 알림 on/off 설정 -->
	<insert id="add_notif_setting">
		INSERT INTO notif_setting (mf_no)
		VALUES (#{mf_no})
	</insert>

	<!-- 알림 on/off 수정 -->
	<update id="update_notif_setting">
	    UPDATE notif_setting
	       SET follow_yn = #{follow_yn}
	         , board_comment_yn = #{board_comment_yn}
	         , board_reaction_yn = #{board_reaction_yn}
	         , recipe_review_yn = #{recipe_review_yn}
	         , recipe_review_yn = #{recipe_review_yn}
	         , recipe_reaction_yn = #{recipe_reaction_yn}
	         , recomment_yn = #{recomment_yn}
	         , comment_reaction_yn = #{comment_reaction_yn}
	     WHERE mf_no = #{mf_no}
	</update>

	<!-- 알림 on/off 확인 -->
	<select id="check_notif_setting" resultType="int">
		SELECT yn from notif_setting where mf_no=#{mf_no} and notif_type = #{notif_type}
	</select>

	<!-- 사용자의 모든 알림 on/off 확인 -->
	<select id="mf_no_notif_setting" resultType="com.boot.dto.NotifSettingDTO">
		SELECT * from notif_setting where mf_no=#{mf_no}
	</select>
	
</mapper>